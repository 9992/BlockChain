# 블록체인
- <b>관리 대상 데이터를 블록</b>이라고 하는 소규모 데이터들이 <b>P2P 기반</b>으로 <b>생성된 체인 형태의 연결고리 기반 분산 데이터 저장환경에 저장</b>되어 <b>누구라도 임의로 수정할 수 없고 누구나 변경의 결과를 열람할 수 있는 분산 컴퓨팅 기술 기반의 데이터 대변 방지 기술<b>.
- 근본적으로 분산 데이터 저장기술의 한 형태로 지속적으로 변경 되는 데이터를 모든 참여 노드에 기록한 <b>변경 리스트</b>로서 <b>분산 노드의 운영자에 의한 임의 조작이 불가능하도록 고안   </b>됨
- 블록체인 기술은 비트코인에서 비롯한 대부분의 암호화폐 거래에 사용됨, 암호화폐 거래과정은 탈 중앙화 된 전자장부에 쓰이기 때문에 블록체인 소프트웨어을 실행하는 많은 사용자들의 각 컴퓨터에 서버가 운영되어 중앙 은행 없이 개인 간에 자유로운 거래가 가능하게됨

# 기본 원리
- 블록체인은 대규모의 노드 사에에서 각 노드에 분산 저장된 장부의 데이터를 항상 있도록 하는 합의 수렴 알고리즘이 가장 핵심 장점이다. 노드가 익명으로 실행되거나 연결이 좋지 않거나 신뢰할수 없는 운영자가 참여하는 것도 가능케 함 


# 개발 과정
- 블록체인의 첫 구현체가 비트코인
- 추가적으로 성능개선, 익명성 추가, 저장기능, 스마트 컨트랙트 기능 개발 , 

#  출처 : https://ko.wikipedia.org/wiki/블록체인 

    블록체인은 네트워크의 모든 참여자들이 공동으로 검증, 기록, 보관함으로 써 제 3의 공공기관 없이 거래 기록의 무결성(???)과 신뢰성을 보장

# 주요 키워드 ( 내가 모르는 키워드라고 해도 될듯 )

    블록
    P2P
    분산 데이터 저장 환경
    변경 리스트

# 블록체인 기반 기술

    1. P2P 네트워크
    2. 암호화
    3. 분산 장부
    4. 분산 합의

---
# P2P 네트워크

    중앙 서버 없이 각 단말들이 서로 동등한 입장에서 통신을 하는 네트워크를 말함

    < 장점 >
        - 서버를 준비할 필요 없이 각 노드들이 트래픽과 자원을 할당해 부하를 분산시킨다. 노드가 증가하더라도 서비스 유지할 수 있는 높은 확장성을 가지고 있다.

    < 단점 >
        - 새로운 기능을 추가하거나 업데이트를 할 경우 관리가 어렵고 네트워크 전송 시간 때문에 노드 간 정보 불일치, 성능 저하가 발생하기 쉽다.

# P2P 네트워크의 종류
     하이브리드 P2P
     각 노드를 발견하고 탐색하기위 해 서버를 사용한다. 노드간 데이터를 주고 받는 방식은 P2P 방식 이지만 노드의 검색 및 탐색을 인덱스 서버를 통해 이루어진다. 서버-클라이언트 구조처럼 설계와 관리가 용이하지만 확장성이 떨어진다.
    
     퓨어 P2P
     모든 노드가 동등한 입장으로 네트워크에 연결되어있다. 새로운 노드가 추가되는 확장성은 높으나 시스템 전반을 설계하고 관리하기 어렵다는 단점이 있다.

     구조화 오버레이
        각 노드들이 물리적으로 연결 되어있음
            - 메시지를 전송하면 목적지 ID를 향해 효율적으로 전송되기 때문에 메시지 도착 가능성이 높음
            - 노드의 확장성이 높음
            - 노드 수가 증가하더라도 메시지 전송 횟수는 크게 늘어나지 않음
            - 노드 탐색은 네트워크의 물리적인 구조에 영향을 받아 유연함이 떨어짐

     비구조화 오버레이
        서로 물리적으로 연결되어 있지 않음
            - 메시지 전송 시 주변 노드에게 전파시켜 전달하다 보니 특정 노드에 메시지를 전달하는 것을 보장할 수 없음
            - 노드 수가 많아지면 메시지 전송횟수가 크게 증가함
            - 물리적 네트워크 구조와 관계없이 주변 노드를 유연하게 탐색함

        ※ 메시지 전송 문제를 해결하기 위해 중간 중간 슈퍼 노드를 배치하여 메시지 전송을 효율적으로 하려는 개념을 가지고 있음


## 그러면 비트코인, 이더리움, 하이퍼레저의 경우 어떤 P2P를 사용하고 있는 것일까?
     비트코인과 이더리움의 경우 모든 노드가 동등한 입장에서 네트워크를 형성하기 떄문에 퓨어 P2P로 분류가 가능하다. 또한 네트워크 토폴로지 역시 정해지지 않았기 때문에 비구조화 오버레이라고 할 수 있다.

     하이퍼레저의 경우 각 노드마다 역할을 다르게 지정할 수 있고 네트워크 토폴로지가 정해지지 않았기 때문에 비 구조화 오버레이 이긴 하지만 각 노드 마다 슈퍼 노드를 도입할 수 있다. 전용 멤버쉽 서버를 가지고 있어 인덱스 서버를 하기 떄문에 하이브리드 P2P라고 할 수 있다.

# 암호화
블록체인에서 암호화 기술이 사용되는 이유는  데이터의 무결성 검증과 거래 부인을 방지하기 위함이다. 데이터의 무결성을 검증하기 위한 방법은 머클트리를 이용하는 방법이다. 자식 노드들의 해시값을 두개를 연결하여 해시화하고 이 과정을 반복하면 단 하나의 해시값이 나오게 되는데 이를 머클 루트 값이라 하고 이를 블록에 싫으면 해당 거래들에 대한 내용이 변경되었을때 해시값이 변경됨으로써 거래의 무결성을 검증해 준다.

거래 부인 방지를 위한 방지는 공개키 기반 디지털 서명을 사용한다. 공개키 기반 디지털 서명이란 공개키와 비밀키 두 개의 키를 가지고 공개키는 모든 참여자들이 공유하여 블록체인 거래의 유효성을 검증하게 하고 비밀키는 소유자만 가질 수 있게 한다. 사용자가 해당 거래에 서명을 하고 블록체인 네트워크에 거래정보를 전송한다. 거래 정보 수신자들은 유효성을 송신자의 공개키로 검증을 한다.

# 분산 장부 & 분산 합의
분산 장부는 네트워크에 속한 모두와 공유되는 암호화 되고 변경할 수 없는 거래 기록의 리스트,
분산 장부의 기록에 대한 참여자들의 합의를 전제로 P2P 네트워크 상에 적용되며 51% 이상의 동의 없이 임의로 변경할 수 있으므로 완전히 변경 불가능 한 것은 아니다.

분산 합의 프로토콜의 특성 4가지
- 유효성
    - 동일안 제안을 할 경우 유효,무효를 결정한다
- 무결성
    - 하나의 데이터를 채택할 경우, 그 데이터는 다른 프로세스에 의해 제안된 유효, 무효 한다.
- 동의
    - 반드시 어떤 데이터에 대해서 동의를 해야한다.
- 종료
    - 데이터에 대해 결정을 반드시 내려야 한다.
